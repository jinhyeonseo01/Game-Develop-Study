# Sobel Operator (소벨 검출)

설명: 3x3 크기의 행렬을 사용하여 중심을 기준으로 각 방향의 변화량을 검출하는 알고리즘
태그: 수학 연산

3x3 크기의 행렬을 사용하여 연산을 하였을때 중심을 기준으로 각 방향의 변화량을 검출하는 알고리즘으로 3x3 크기의 행렬을 x, y 방향 별로 각각의 행렬을 가지는데 형태는 다음과 같습니다.

| -1 | 0 | +1 |
| --- | --- | --- |
| -2 | 0 | +2 |
| -1 | 0 | +1 |

x filter

![Untitled](용어%20정리집%202/Sobel%20Operator%20(소벨%20검출)/Untitled.png)

| +1 | +2 | +1 |
| --- | --- | --- |
| 0 | 0 | 0 |
| -1 | -2 | -1 |

y filter

| 0 | 0 | 0 |
| --- | --- | --- |
| 0 | 0 | 0 |
| 255 | 255 | 255 |

해당 이미지에서 각 필터를 적용한다고 가정해봅시다.

y축 필터를 적용하게 되면

| 0 * 1 | 0 * 0  | 0 * 1 |
| --- | --- | --- |
| 0 * 0 | 0 * 0 | 0 * 0 |
| 255 * -1 | 255 * -2 | 255 * -1 |

이 되며 모두 합하게 되면 **-1020**이 나오게 됩니다.

<aside>
❗ 행렬의 곱이 아닌 각 원소를 곱한 후 모두 더한 값입니다.

</aside>

x축 필터를 적용하게 되면

| 0 * -1 | 0 * 0  | 0 * 1 |
| --- | --- | --- |
| 0 * -2 | 0 * 0 | 0 * 2 |
| 255 * -1 | 255 * 0 | 255 * 1 |

이 되며 모두 합하게 되면 **0**이 나오게 됩니다.

소벨 검출의 기본적인 원리를 정리해보면

이전 값 : -1, 중간값 : 0, 다음값 : 1 로 연산이 되는데

이전값과 다음 값이 동일할 경우 -a + a = 0으로 계산될 것입니다.

하지만, 반대로 이전값이 0이 다른 경우 해당 값의 절대값을 구한다면 외곽선을 구할 수 있게될 것입니다.

[https://www.vertexfragment.com/ramblings/unity-postprocessing-sobel-outline/](https://www.vertexfragment.com/ramblings/unity-postprocessing-sobel-outline/)